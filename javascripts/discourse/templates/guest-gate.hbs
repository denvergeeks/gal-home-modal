{{#if (theme-setting 'dismissable_false')}}
  <DModalBody @title={{theme-prefix "guest_gate.title"}} @dismissable={{false}}>
    {{#if (theme-setting 'custom_gate_enabled') }}
      <div class="custom-gate-content">
        <img src="{{theme-setting 'custom_gate_image'}}"/>
        <h2>{{theme-i18n "custom_gate.big_text"}}</h2>
        <p>{{theme-i18n "custom_gate.little_text"}}</p>
      </div>
      {{else}}
      <div>
        <p>{{replace-emoji (i18n 'signup_cta.intro')}}</p>
        <p>{{replace-emoji (i18n 'signup_cta.value_prop')}}</p>
      </div>
    {{/if}}
    {{login-buttons externalLogin=(action "externalLogin")}}
  </DModalBody>
  {{else}}
  <DModalBody @title={{theme-prefix "guest_gate.title"}}>
    {{#if (theme-setting 'custom_gate_enabled') }}
      <div class="custom-gate-content">
        <img src="{{theme-setting 'custom_gate_image'}}"/>
        <h2>{{theme-i18n "custom_gate.big_text"}}</h2>
        <p>{{theme-i18n "custom_gate.little_text"}}</p>
      </div>
      {{else}}
      <div>
        <p>{{replace-emoji (i18n 'signup_cta.intro')}}</p>
        <p>{{replace-emoji (i18n 'signup_cta.value_prop')}}</p>
      </div>
    {{/if}}
    {{login-buttons externalLogin=(action "externalLogin")}}
  </DModalBody>
{{/if}}

<div class="modal-footer">
  {{#if ssoEnabled}}
    {{#if (theme-setting 'use_gate_buttons') }}
      <DButton @class={{theme-setting "login_button_style"}} @icon={{theme-setting "login_icon"}} @label={{theme-prefix "guest_gate.sso_log_in"}} @action={{"showLogin"}} />
      {{#if (theme-setting 'enable_discourse_connect_signup') }}
        <DButton @class={{theme-setting "signup_button_style"}} @icon={{theme-setting "signup_icon"}} @label={{theme-prefix "guest_gate.sso_sign_up"}} @href={{theme-setting "discourse_connect_signup_url"}} />
      {{/if}}
      {{else}}
      <a href {{on "click" this.ssoLoginGate}}>{{theme-i18n "guest_gate.sso_log_in"}}</a>
      {{#if (theme-setting 'enable_discourse_connect_signup') }}
        {{theme-i18n "guest_gate.or"}}
        <a href="{{theme-setting 'discourse_connect_signup_url'}}">{{theme-i18n "guest_gate.sso_sign_up"}}</a>
      {{/if}}
    {{/if}}
    {{else}}
    {{#if (theme-setting 'use_gate_buttons') }}
      {{#if (theme-setting 'custom_url_enabled') }}
        <DButton @class={{theme-setting "login_button_style"}} @icon={{theme-setting "login_icon"}} @label={{theme-prefix "guest_gate.log_in"}} @href={{theme-setting "custom_login_url"}} />
        <DButton @class={{theme-setting "signup_button_style"}} @icon={{theme-setting "signup_icon"}} @label={{theme-prefix "guest_gate.sign_up"}} @href={{theme-setting "custom_signup_url"}} />
        {{else}}
        <DButton @class={{theme-setting "login_button_style"}} @icon={{theme-setting "login_icon"}} @label={{theme-prefix "guest_gate.log_in"}} @action={{"showLogin"}} />
        <DButton @class={{theme-setting "signup_button_style"}} @icon={{theme-setting "signup_icon"}} @label={{theme-prefix "guest_gate.sign_up"}} @action={{"showCreateAccount"}} />
      {{/if}}
      {{else}}
      {{#if (theme-setting 'custom_url_enabled') }}
        <a href="{{theme-setting 'custom_login_url'}}">{{theme-i18n "guest_gate.log_in"}}</a>
        {{theme-i18n "guest_gate.or"}}
        <a href="{{theme-setting 'custom_signup_url'}}">{{theme-i18n "guest_gate.sign_up"}}</a>
        {{else}}
        <a href {{on "click" this.showLoginGate}}>{{theme-i18n "guest_gate.log_in"}}</a>
        {{theme-i18n "guest_gate.or"}}
        <a href {{on "click" this.showCreateAccountGate}}>{{theme-i18n "guest_gate.sign_up"}}</a>
      {{/if}}
    {{/if}}
  {{/if}}
</div>
